---
id: 682
title: Restoring an old bkf backup file on macOS or Windows 10 (/8/7)
date: 2018-08-02T23:18:17+00:00
author: james.crowley
layout: post
guid: https://www.jamescrowley.net/?p=682
permalink: /2018/08/02/restoring-an-old-bkf-backup-on-windows-10-8-7/
ampforwp_custom_content_editor:
  - ""
ampforwp_custom_content_editor_checkbox:
  - null
ampforwp-amp-on-off:
  - default
categories:
  - General Computing
---
I recently realised I had a load of old projects and data sitting in a lovely 100GB bkf file &#8211; generated by the ntbackup program that used to ship with Windows XP and Windows 2008 &#8211; but no way to access them.

Microsoft released a [restore-only version for 2008 R2 / Windows 7](https://support.microsoft.com/en-gb/help/974674/description-of-the-windows-nt-backup-restore-utility-for-windows-7-and), but there was no version of ntbackup I could find that would run on Windows 10.

There were loads of blog and StackExchange posts but generally pointing to dodgy (and since dead) downloads of ntbackup.exe. I could install Windows XP on a VM, or launch a Windows 2008 R2 instance in Azure/AWS and transfer the files up there, but those felt like a lot of hassle.

Fortunately I found a C based utility on GitHub called [mtftar](https://github.com/sjmurdoch/mtftar) which converts an MTF stream into a TAR based stream, and someone has generously updated it to compile on both Windows and macOS. Great!

I have Ubuntu running under the [Windows subsystem for Linux](https://docs.microsoft.com/en-us/windows/wsl/install-win10), so with `build-essential` already installed via apt-get, I ran:

<pre>&gt; git clone <a href="https://github.com/sjmurdoch/mtftar">https://github.com/sjmurdoch/mtftar</a>
&gt; cd mtftar
&gt; make
&gt; ./mtftar -?</pre>

Which lists out the various supported command line arguments. I went for

<pre>./mtftar &lt; Backup.bkf | tar xvf -</pre>

which extracted the bkf archive straight onto the file system in the same directory. The same commands work on macOS, if you prefer to run there.